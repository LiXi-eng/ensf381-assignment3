<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attempt Quiz - LMS</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
    <header>
        <img src="logo.jpg" alt="LMS Logo" style="width: 100px; height: 100px;">
        <h1>LMS - Learning Management System</h1>
    </header>
    <div>
        <nav>
            <a href="index.html">Homepage</a>
            <a href="course_view.html">Courses</a> 
        </nav>
    </div>
    <main class="attemptquiz">
        <img src="banner.jpg" alt="Quiz Banner" style="width: 100%;">
        <div class="quizdetails">
            <h2>Course Name: Web Development</h2>
            <h2>Course Code: WD381</h2>
            <p>Topic: HTML Basics</p>
            <p>Deadline: 11:59 PM, February 10, 2025</p>
            <p>Attempts Allowed: 1</p>
            
            <h3>Countdown Timer (MM:SS): <span id="timer"> </span> / 10:00 </h3>
        </div>
        
        <h3>Question 1</h3>
        <p>What does HTML stand for?</p>
        <div class="Qs">
            <input type="radio" id="q1a" name="q1" value="Hyper Text Markup Language">
            <label for="q1a">Hyper Text Markup Language</label><br>
            <input type="radio" id="q1b" name="q1" value="Home Tool Markup Language">
            <label for="q1b">Home Tool Markup Language</label><br>
        </div>
        <br>
        
        
        <h3>Question 2</h3>
        <p>Which of the following are HTML elements? (Select all that apply)</p>
        <div class="Qs">
        <input type="checkbox" id="q2a" name="q2" value="<div>">
        <label for="q2a">&lt;div&gt;</label><br>
        <input type="checkbox" id="q2b" name="q2" value="<span>">
        <label for="q2b">&lt;span&gt;</label><br>
        </div>
        
        
        <br><br>
        
        <button class="FinQz" onClick="submitQuiz()">Finish Quiz</button>
        <h3 id="displayFinalScore"></h3>

    </main>
    <footer>
        <p>&copy; 2025 LMS. All rights reserved.</p>
    </footer>

    <script>
        //(a)
        let totalTime = 600; //this is 10 minutes written as seconds
        function changeTime(){
            let totalMinutes = Math.floor(totalTime/60);
            let totalSeconds = totalTime%60;
            let myString = `${totalMinutes}:${totalSeconds < 10 ? '0' : ''}${totalSeconds}`;
            document.getElementById("timer").textContent = myString;

            if (totalTime <= 0){
                clearInterval(timerInterval);
                window.location.href = "leaderboard.html";
            }
            totalTime = totalTime-1;
        }
        let timerInterval = setInterval(changeTime, 1000); // 1000ms is 1 second

        //(b)
        function submitQuiz(){
            let initialScore = 0;
            let q1Ans = document.getElementsByName('q1');
            let q1Counter = null;
            for (let i =0; i<q1Ans.length; i++){
                if(q1Ans[i].checked){
                    q1Counter = q1Ans[i].value;
                    break;
                }
            }

            let q2a = document.getElementById("q2a").checked;
            let q2b = document.getElementById("q2b").checked;

            if (!q1Counter || (!q2a&&!q2b)){
                alert("Incomplete Answers");
                return;
            }
            //(c)
            if (q1Counter == "Hyper Text Markup Language"){
                initialScore = initialScore + 50; 
            }
            if (q2a) {
                initialScore = initialScore + 25; 
            }
            if (q2b) {
                initialScore = initialScore + 25; 
            }

            let finalString = `Final Score: ${initialScore}/100`;
            document.getElementById("displayFinalScore").textContent = finalString;
    }


    </script>

</body>
</html>
